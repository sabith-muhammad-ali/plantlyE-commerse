<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Corona Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="adminAssets/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="adminAssets/assets/vendors/css/vendor.bundle.base.css">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <link rel="stylesheet" href="adminAssets/assets/vendors/select2/select2.min.css">
    <link rel="stylesheet" href="adminAssets/assets/vendors/select2-bootstrap-theme/select2-bootstrap.min.css">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="adminAssets/assets/css/style.css">
    <!-- End layout styles -->
    <link rel="shortcut icon" href="adminAssets/assets/images/favicon.png" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,200,0,200" />


    <style>
      .preview-image {
          max-width: 100px; 
          max-height: 100px; 
          margin-right: 10px; 
      }
  </style>
  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:adminAssets/partials/_sidebar.html -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <div class="sidebar-brand-wrapper d-none d-lg-flex align-items-center justify-content-center fixed-top">
          <a class="sidebar-brand brand-logo" href="adminAssets/index.html"><img src="adminAssets/assets/images/logo.svg" alt="logo" /></a>
          <a class="sidebar-brand brand-logo-mini" href="adminAssets/index.html"><img src="adminAssets/assets/images/logo-mini.svg" alt="logo" /></a>
        </div>
        <ul class="nav">
          <li class="nav-item profile">
            <div class="profile-desc">
              <div class="profile-pic">
                <div class="count-indicator">
                  <img
                    class="img-xs rounded-circle"
                    src="adminAssets/assets/images/faces/face15.jpg"
                    alt=""
                  />
                  <span class="count bg-success"></span>
                </div>
                <div class="profile-name">
                  <h5 class="mb-0 font-weight-normal">Sabith muhammad ali</h5>
                  <span>Gold Member</span>
                </div>
              </div>
              <a href="#" id="profile-dropdown" data-toggle="dropdown"
                ><i class="mdi mdi-dots-vertical"></i
              ></a>
              <div
                class="dropdown-menu dropdown-menu-right sidebar-dropdown preview-list"
                aria-labelledby="profile-dropdown"
              >
                <a href="#" class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <div class="preview-icon bg-dark rounded-circle">
                      <i class="mdi mdi-settings text-primary"></i>
                    </div>
                  </div>
                  <div class="preview-item-content">
                    <p class="preview-subject ellipsis mb-1 text-small">
                      Account settings
                    </p>
                  </div>
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <div class="preview-icon bg-dark rounded-circle">
                      <i class="mdi mdi-onepassword text-info"></i>
                    </div>
                  </div>
                  <div class="preview-item-content">
                    <p class="preview-subject ellipsis mb-1 text-small">
                      Change Password
                    </p>
                  </div>
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <div class="preview-icon bg-dark rounded-circle">
                      <i class="mdi mdi-calendar-today text-success"></i>
                    </div>
                  </div>
                  <div class="preview-item-content">
                    <p class="preview-subject ellipsis mb-1 text-small">
                      To-do list
                    </p>
                  </div>
                </a>
              </div>
            </div>
          </li>
          <li class="nav-item nav-category">
            <span class="nav-link">Navigation</span>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/admindashbord">
              <span class="material-symbols-outlined" style="color: skyblue">
                dashboard
                </span>
              <span class="menu-title">Dashboard</span>
            </a>
          </li>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/category">
              <span class="material-symbols-outlined"  style="color: skyblue;">
                category
                </span>
              <span class="menu-title">Category</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/product">
              <span class="material-symbols-outlined" style="color: skyblue;">
                shopping_cart
                </span>
              <span class="menu-title">Products</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/userprofile">
              <span class="material-symbols-outlined" style="color: skyblue;">
                account_circle
                </span>
              <span class="menu-title" >Customers</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/orderlist">
              <span class="material-symbols-outlined" style="color: skyblue;">
                draft_orders
                </span>
              <span class="menu-title">Orders</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/banner">
              <span class="material-symbols-outlined" style="color: skyblue;">
                planner_banner_ad_pt
                </span>
              <span class="menu-title">Banner</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/coupon">
              <span class="material-symbols-outlined" style="color: skyblue;">
                credit_card_heart
                </span>
              <span class="menu-title">Coupon</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/load-offer">
              <span class="material-symbols-outlined" style="color: skyblue;">
                redeem
                </span>
              <span class="menu-title">Offer</span>
            </a>
          </li>

          <li class="nav-item menu-items">
            <a class="nav-link" href="/admin/sales-report">
              <span class="material-symbols-outlined" style="color: skyblue;">
                lab_profile
              </span>
              <span class="menu-title">Sales Report</span>
            </a>
          </li>
          <li class="nav-item menu-items">
            <a class="nav-link"href="/admin/logout">
            <span class="material-symbols-outlined" style="color: skyblue;">
              logout
              </span>
              <span class="menu-title">logout</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:adminAssets/partials/_navbar.html -->
        <nav class="navbar p-0 fixed-top d-flex flex-row">
          <div class="navbar-brand-wrapper d-flex d-lg-none align-items-center justify-content-center">
            <a class="navbar-brand brand-logo-mini" href="adminAssets/index.html"><img src="adminAssets/assets/images/logo-mini.svg" alt="logo" /></a>
          </div>
          <div class="navbar-menu-wrapper flex-grow d-flex align-items-stretch">
            <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
              <span class="mdi mdi-menu"></span>
            </button>
            <ul class="navbar-nav w-100">
              <li class="nav-item w-100">
                <form class="nav-link mt-2 mt-md-0 d-none d-lg-flex search">
                  <input type="text" class="form-control" placeholder="Search products">
                </form>
              </li>
            </ul>
            <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
              <span class="mdi mdi-format-line-spacing"></span>
            </button>
          </div>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="page-header">
              <div class="container">
                <div class="row justify-content-center">
                  <div class="col-12 col-md-6">
                    <div class="text-center">
                      <h3 class="page-title">Add Product</h3>
                    </div>
                  </div>
                </div>
              </div>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                </ol>
              </nav>
            </div>
          <!--  -->
              <!--  -->
              <div class="col-12 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <form class="forms-sample" method="post" enctype="multipart/form-data" onsubmit="return validateForm()">
                      <div class="form-group">
                          <label for="name">Product Name</label>
                          <input type="text" class="form-control" id="name" name="name" placeholder="Product Name">
                          <p id="nameError" style="color: red;"></p>
                      </div>
                      <div class="form-group">
                          <label>Category</label>
                          <select name="categoryId">
                              <% for (let i = 0; i < categoryData.length;i++) { %>
                              <option value="<%= categoryData[i]._id %>"><%= categoryData[i].name %></option>
                              <% } %>
                          </select>
                      </div>
                      <div class="form-group">
                          <label for="price">Price</label>
                          <input type="number" class="form-control" name="price" id="price" placeholder="Price">
                          <p id="priceError" style="color: red;"></p>
                      </div>
                      <div class="form-group">
                          <label>File upload</label>
                          <input type="file" name="image" id="image" class="file-upload-default" multiple>
                          <div class="input-group col-xs-12">
                              <input type="text" class="form-control file-upload-info" disabled placeholder="Upload Image">
                              <span class="input-group-append">
                                  <button class="file-upload-browse btn btn-primary" type="button">Upload</button>
                              </span>
                          </div>
                          <p id="imageError" style="color: red;"></p>
                          <!-- Image previews container -->
                          <div id="imagePreviews" class="mt-2 row"></div>
                      </div>
                      <div class="form-group">
                          <label for="stock">Stock</label>
                          <input type="text" class="form-control" id="stock" name="stock" placeholder="0">
                          <p id="stockError" style="color: red;"></p>
                      </div>
                      <div class="form-group">
                          <label for="description">Description</label>
                          <textarea class="form-control" name="description" id="description" rows="4"></textarea>
                          <p id="descriptionError" style="color: red;"></p>
                      </div>
                      <div class="container">
                          <div class="row justify-content-center">
                              <div class="col-12 col-md-6">
                                  <div class="text-center">
                                      <button type="submit" class="btn btn-primary mr-2">Submit</button>
                                      <a href="/admin/product" class="btn btn-primary">Cancel</a>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </form>
                  </div>
                </div>
              </div>
              <!--  -->
          <!-- content-wrapper ends -->
          <!-- partial:adminAssets/partials/_footer.html -->
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      const fileInput = document.getElementById('image');
      
      const imagePreviewsContainer = document.getElementById('imagePreviews');
  
      fileInput.addEventListener('change', function(event) {
          imagePreviewsContainer.innerHTML = '';
  
          const files = event.target.files;
  
          if (files.length > 4) {
            alert('You can only add up to 4 images.')
              this.value = ''; 
              return;
          }
  
          for (let i = 0; i < files.length; i++) {
              const file = files[i];
              const reader = new FileReader();
  
              const imageElement = document.createElement('img');
              imageElement.classList.add('img-thumbnail', 'mr-2');
              imageElement.style.height = '100px'; // Set image height
  
              reader.readAsDataURL(file);
  
              reader.onload = function(e) {
                  imageElement.src = e.target.result;
              };
  
              imagePreviewsContainer.appendChild(imageElement);
          }
      });
  </script>
<script>
  function validateForm() {
      var name = document.getElementById('name').value.trim();
      var price = document.getElementById('price').value.trim();
      var stock = document.getElementById('stock').value.trim();
      var description = document.getElementById('description').value.trim();
      var images = document.getElementById('image').files;

      var nameError = document.getElementById('nameError');
      var priceError = document.getElementById('priceError');
      var stockError = document.getElementById('stockError');
      var descriptionError = document.getElementById('descriptionError');
      var imageError = document.getElementById('imageError');

      nameError.innerHTML = "";
      priceError.innerHTML = "";
      stockError.innerHTML = "";
      descriptionError.innerHTML = "";

      var isValid = true;

      if (name === "") {
          nameError.innerHTML = "Name is required";
          isValid = false;
      }

      if (price === "") {
          priceError.innerHTML = "Price is required";
          isValid = false;
      } else if (isNaN(price) || Number(price) <= 0) {
          priceError.innerHTML = "Price must be a positive number";
          isValid = false;
      }

      if (stock === "") {
          stockError.innerHTML = "Stock is required";
          isValid = false;
      } else if (isNaN(stock) || Number(stock) < 0) {
          stockError.innerHTML = "Stock must be a non-negative number";
          isValid = false;
      }

      if (description === "") {
          descriptionError.innerHTML = "Description is required";
          isValid = false;
      }

      if (images.length < 4) {
            imageError.innerHTML = "At least four images are required";
            isValid = false;
        }

      return isValid;
  }
</script>





    <script src="adminAssets/assets/vendors/js/vendor.bundle.base.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="adminAssets/assets/vendors/select2/select2.min.js"></script>
    <script src="adminAssets/assets/vendors/typeahead.js/typeahead.bundle.min.js"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="adminAssets/assets/js/off-canvas.js"></script>
    <script src="adminAssets/assets/js/hoverable-collapse.js"></script>
    <script src="adminAssets/assets/js/misc.js"></script>
    <script src="adminAssets/assets/js/settings.js"></script>
    <script src="adminAssets/assets/js/todolist.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="adminAssets/assets/js/file-upload.js"></script>
    <script src="adminAssets/assets/js/typeahead.js"></script>
    <script src="adminAssets/assets/js/select2.js"></script>
    <!-- End custom js for this page -->
  </body>
</html>